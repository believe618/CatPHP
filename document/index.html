<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="document for catphp">

	<title>Document For CatPHP</title>

	<link rel="stylesheet" href="css/pure-min.css">
	<link rel="stylesheet" href="css/side-menu.css">
</head>
<body>
	<div id="layout">
		<a href="#menu" id="menuLink" class="menu-link">
			<span></span>
		</a>
		<div id="menu">
			<div class="pure-menu">
				<a class="pure-menu-heading" href="/">CatPHP</a>
				<ul class="pure-menu-list">

					<li class="pure-menu-item pure-menu-selected">
						<a href="#start" class="pure-menu-link">快速开始</a>
					</li>

					<li class="pure-menu-item">
						<a href="#before" class="pure-menu-link">前言</a>
					</li>
					<li class="pure-menu-item">
						<a href="#design" class="pure-menu-link">设计思想</a>
					</li>

					<li class="pure-menu-item menu-item-divided">
						<a href="#ext" class="pure-menu-link">扩展框架</a>
					</li>

					<li class="pure-menu-item">
						<a href="/grids/" class="pure-menu-link">配置</a>
					</li>

					<li class="pure-menu-item">
						<a href="/grids/" class="pure-menu-link">路由</a>
					</li>

					<li class="pure-menu-item">
						<a href="/forms/" class="pure-menu-link">模板</a>
					</li>

					<li class="pure-menu-item">
						<a href="/buttons/" class="pure-menu-link">数据库</a>
					</li>

					<li class="pure-menu-item ">
						<a href="/tables/" class="pure-menu-link">sql生成器</a>
					</li>

					<li class="pure-menu-item">
						<a href="/menus/" class="pure-menu-link">参数校验</a>
					</li>

					<li class="pure-menu-item menu-item-divided">
						<a href="/tools/" class="pure-menu-link">日志</a>
					</li>

					<li class="pure-menu-item">
						<a href="/customize/" class="pure-menu-link">HTML生成器</a>
					</li>

					<li class="pure-menu-item">
						<a href="/extend/" class="pure-menu-link">缓存</a>
					</li>

					<li class="pure-menu-item">
						<a href="http://blog.purecss.io/" class="pure-menu-link">多语言</a>
					</li>
					<li class="pure-menu-item">
						<a href="https://github.com/yahoo/pure/releases/" class="pure-menu-link">HTTP Client</a>
					</li>
				</ul>
			</div>
		</div>


		<div id="start">
			<div class="header">
				<h1>快速开始</h1>
				<h2>Quick Start for CatPHP</h2>
			</div>
			<div class="content">

				<h3>第一步：下载CatPHP</h3>
				<p>下载地址：<a href="https://github.com/luyucia/CatPHP">https://github.com/luyucia/CatPHP</a></p>
				<h3>第二步：将样例工程复制到您的web服务器工作目录下</h3>
				<p>将example目录复制到您的工作目录下（nginx默认为html）</p>
				<h3>第三步：配置Nginx或Apache的路由重写规则</h3>
				<p>假如您使用Nginx则：
					请在nginx目录下找到conf/nginx.conf文件，并添加重写规则：</p>
					<pre><code>if (!-e ) {
						rewrite ^.*$ /index.php last;
					}</code></pre>
					<p>这样nginx会将所有请求不到的url请求发送到 index。php</p>
					<p>完成：现在您就可以在浏览器中访问您的项目了 exp：<a href="http://127.0.0.1">http://127.0.0.1</a></p>

				</div>
			</div>


			<div id="before">
				<div class="header">
					<h1 id="toc_0">前言</h1>
				</div>
				<div class="content">
					<h3 id="toc_1">为什么有这么多PHP框架</h3>

					<p>PHP没有规范写起来比较随意,框架系别较多,
						常见的有web系别</p>

						<ul>
							<li>功能大全系:ZendFramwork,Cake</li>
							<li>扩展性:Yaf,Phalcon</li>
							<li>代码生成系:Yii</li>
							<li>轻量系:ThinkPHP,CI</li>
							<li>微型系(自我实现系):如我们的</li>
						</ul>

						<p>有的人需要功能多,有的希望小巧,有的希望灵活,有的喜欢写sql有的习惯orm
							有的希望量体裁衣,有的人喜欢简单,有的人喜欢复杂...(这种人我不能理解)，总的来说就是不同人有不同的需求和喜好。</p>

							<h3 id="toc_2">为什么有这么多PHP框架了还要再开发一个</h3>

							<ul>
								<li>不差这一个了</li>
								<li>现有框架其实并非开源，为什么？</li>
							</ul>

							<p>当你阅读一篇文章，并希望通过阅读体会中心思想的时候，你所体会到的往往并非作者的真实思想。&quot;一百个人心中有一百个哈姆雷特&quot;,代码如同文章，阅读源码往往未必能知道作者的设计思想，因此catPHP把设计思路作为一个重要的部分&quot;开源给大家&quot;。</p>

							<ul>
								<li>catphp可以融合进任何项目或框架，一处开发处处使用</li>
								<li>希望统一PHP框架，有很多小的PHP类库非常优秀，和一些非常使用，经常使用的PHP类库，希望能把他们融合进来，使开发者不用花时间去寻找</li>
							</ul>

							<h3 id="toc_3">何为框架</h3>

							<p>框架有这样几个主要作用：</p>

							<ul>
								<li>提升开发效率，</li>
								<li>解耦业务逻辑和开发逻辑，抽象共有功能</li>
								<li>使代码工程有组织，节省维护成本，沟通成本</li>
							</ul>

							<h3 id="toc_4">类库和框架的区别</h3>

							<p>类库是类的集合，这些类之间可能是相互独立的。应用开发者希望使用任何一个类时可以直接调用它，而不必再写一个。与类库相比，框架和类库有着相似的形式，即框架也往往是类的集合；但不同之处在于，框架中的各个类并不是孤立的，而框架中的业务逻辑代码是将不同的类“连”在一起，在它们之间建立协作关系。
								类就像拼图，一个类就是一块拼图，框架就是拼了一半的拼图，一用就像完整的拼图。</p>
							</div>


						</div>
						<div id="design">
							<div class="header">
								<h1 id="toc_5">设计思想</h1>
							</div>
							<div class="content">
								<h2 id="toc_6">Design for CatPHP</h2>

								<ul>
									<li><p>完全模块化设计，满足所有人的需求，通过组合实习框架伸缩性，</p></li>
									<li><p>catphp可以嵌入到其他php框架中，学会了catphp终身可以使用，换公司也不怕了</p></li>
									<li><p>完全开源，设计思想开源，让每个人了解框架内部逻辑，免去任何疑惑。</p></li>
									<li><p>每个模块都可以单独使用，并有良好的文档支持。</p></li>
								</ul>

								<h3 id="toc_7">优势</h3>

								<ul>
									<li>社区支持</li>
									<li>文档工具支持</li>
									<li>规范化</li>
									<li>文档\单元测试</li>
								</ul>
							</div>
						</div>

<div >
	<h1 id="toc_8">扩展框架</h1>

<h3 id="toc_9">目录结构</h3>

<ul>
<li>bricks catphp模块</li>
<li>bricks-v 第三方模块</li>
<li>core 内核</li>
<li>config 框架自身的配置文件与应用无关</li>
<li>catphp.php 框架入口文件</li>
</ul>

<h3 id="toc_10">添加自己写的模块</h3>

<ol>
<li>开发一个类，放到bricks目录下</li>
<li><p>在config中找到core<em>class</em>config.php 添加路径到这个文件中即可</p>

<p>设计：根据代码即文档的思想，把需要包含的类人工添加到配置文件中。而且加载的时候会根据绝对路径加载，效率高于相对路径的加载。</p></li>
</ol>

<h1 id="toc_11">配置</h1>

<pre><code>return array(
    // 模板文件路径
    &#39;view_path&#39;=&gt;&#39;views/&#39;,
    // 控制器文件路径，controller都会在这个目录下查找
    &#39;controller_path&#39;=&gt;&#39;controllers/&#39;,
    // 控制器子目录，如果希望在控制器目录下放子目录可在此设置
    &#39;controller_dirs&#39; =&gt; array(&#39;test/&#39;,&#39;api/&#39;),
    // 设置哪些controller为RESTfule形式
    &#39;rest_controllers&#39;=&gt;array(&#39;product&#39;,&#39;api&#39;),
    // 设置路由模式，router_rest为true时，采用Rest风格路由，为false则采用参数形式，router_name参数生效
    &#39;router_rest&#39;     =&gt; true,
    &#39;router_name&#39;     =&gt;array(
            &#39;c&#39; =&gt; &#39;c&#39;,
            &#39;a&#39; =&gt; &#39;a&#39;,
        ),
    // 设置日志等级
    &#39;log_level&#39;       =&gt; Logging::ALL,
    // 模板引擎 可选（tenjin smarty php）
    &#39;template_engine&#39;=&gt;array(
        &#39;type&#39;  =&gt; &#39;smarty&#39;,
        &#39;debug&#39; =&gt; false,
        &#39;cache&#39; =&gt; false,
        &#39;cache_lifetime&#39; =&gt; 120,
    ),
    // 设置路由规则，详细内容请参考文档中的路由专题
    &#39;route_rules&#39;=&gt;array(
        // 静态路由 和参数
            array(
            &quot;rule&quot; =&gt; &quot;read/title/page&quot;,
            &quot;controller&quot; =&gt; &#39;book&#39;,
            &quot;action&quot; =&gt; &#39;test&#39;
            ),
            array(
            &quot;rule&quot; =&gt; &quot;read/:title/:page&quot;,
            &quot;controller&quot; =&gt; &#39;book&#39;,
            &quot;action&quot; =&gt; &#39;index&#39;
            ),
            array(
            &quot;rule&quot; =&gt; &quot;read/(\d{6})&quot;,
            &quot;controller&quot; =&gt; &#39;book&#39;,
            &quot;action&quot; =&gt; &#39;read&#39;,
            &quot;reg_map&quot;=&gt;array(&#39;bookid&#39;)
            ),

        ),
    );
</code></pre>

<h1 id="toc_12">路由</h1>
</div>

					</body>
					<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
					<script type="text/javascript">
						$('.pure-menu-item').click(function(){
							$('.pure-menu-selected').removeClass('pure-menu-selected')
							$(this).addClass('pure-menu-selected')
						})
					</script>
					</html>
